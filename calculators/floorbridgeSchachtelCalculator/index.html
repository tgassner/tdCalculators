<html>
<head>

    <link rel="icon" href="img/fb_favicon_blau-150x150.png" sizes="32x32" />
    <link rel="icon" href="img/fb_favicon_blau.png" sizes="192x192" />
    <link rel="apple-touch-icon" href="img/fb_favicon_blau.png" />
    <meta name="msapplication-TileImage" content="img/fb_favicon_blau.png" />

<script>
   const aMengeData = [
		{ id: 1, name :  "X10", aMenge : 152 } ,
        { id: 1, name :  "X13", aMenge : 152 } ,
		{ id: 2, name :  "X16", aMenge : 128 } ,
		{ id: 3, name :  "X30", aMenge : 172 } ,
        { id: 3, name :  "X31", aMenge : 152 } ,
	];
</script>

</head>
<body style="margin:0; font-family: helvetica neue, Helvetica, Arial, sans-serif">
<div style="display: flex; width:100%">
    <div style="width:100px; background: #ffdc14; display: flex;padding: 10px">
        <img src="img/td_header.svg" style="height:100px" alt="Transparentdesign Logo Header">
    </div>

    <div style="flex-grow: 1; background: linear-gradient(90deg, #ffdc14 0%, #0062ad 100%);display: flex; color: #fff; justify-content: center; align-items: center">
        <h1 style="font-family: khand, Helvetica, Arial, sans-serif">Floorbridge Schachtel Calculator</h1>
    </div>

    <div style="width:100px; background: #0062ad; display: flex;padding: 10px">
        <img src="img/FloorBridge_Logo_05.svg" style="height:100px" alt="Floorbridge Logo Header">
    </div>
</div>
<div style="display: flex; justify-content: center; margin-top: 20px">
    <div id="aMengeInputDiv" style="border:#777777 solid 1px; display: flex; padding:20px"> </div>
</div>
<div style="display: flex; justify-content: center; margin-top: 20px">
    <div id="totalResult" style="border:#777777 solid 0px; display: flex; justify-content: center;font-weight: bolder; font-size: 200%"> </div>
</div>
</body>
<script>
	let html = "<table>";
	html += "<th style='padding-bottom:20px; padding-left:20px; padding-right:20px;'>Tassen</th>"
	html += "<th style='padding-bottom:20px; padding-left:20px; padding-right:20px'>#Tassen in Bestellung</th>"
	html += "<th style='padding-bottom:20px; padding-left:20px; padding-right:20px'>#Tassen pro Schachtel</th>"
    html += "<th style='padding-bottom:20px; padding-left:20px; padding-right:20px;'>#Schachteln</th>"
	html += "</tr>";
	for (const aMengePos of aMengeData) {
		html += "<tr>";
		html += "<td style='padding-bottom:20px; text-align:center'>" + "<label for='noOfpieses" + aMengePos.id + "'>" + aMengePos.name + "</label>" + "</td>"
		html += "<td style='padding-left:20px; padding-right:20px; padding-bottom:20px'>" 
				+ "<input type='number' id='noOfpieses" + aMengePos.id + "' name='noOfpieses" + aMengePos.id + "' value='0' min='0' max='5000' style='width=80px;' onchange='noOfPiececChanged()'>" 
			 + "</td>"
		html += "<td style='padding-bottom:20px;padding-left:20px'>" + aMengePos.aMenge + "</td>"
        html += "<td id='partResult" + aMengePos.id + "' style='padding-bottom:20px; padding-left:20px; padding-right:20px; font-weight:bolder'>0</td>"
		html += "</tr>";
	}
	html += "</table>";
	document.getElementById("aMengeInputDiv").innerHTML = html;

	noOfPiececChanged();

	function noOfPiececChanged() {
		let sumSchachteln = 0;
		for (const aMengePos of aMengeData) {
			let menge = document.getElementById("noOfpieses" + aMengePos.id).value;
			let countPerSchachtel = aMengePos.aMenge;
			let paletten = menge / countPerSchachtel;
            let schachteln = (Math.round((paletten + Number.EPSILON) * 100) / 100);
            sumSchachteln += schachteln;
		    document.getElementById("partResult" + aMengePos.id).innerHTML = schachteln;
		}
        sumSchachteln = (Math.round((sumSchachteln + Number.EPSILON) * 100) / 100)
        document.getElementById("totalResult").innerHTML = sumSchachteln + " Schachteln";
	}
</script>
</html>